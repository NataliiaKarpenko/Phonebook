"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[98],{6924:function(t,e,n){var r=n(7962),a=n(184);e.Z=function(t){var e=t.children;return(0,a.jsx)(r.E.div,{variants:{intial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:1}},initial:"initial",animate:"animate",exit:"exit",children:e})}},8098:function(t,e,n){n.r(e),n.d(e,{default:function(){return vt}});var r,a,o=n(5861),i=n(9439),s=n(4687),c=n.n(s),l=n(2791),u=n(7962),d=n(422),m=n(6934),p=n(4567),x=n(9374),h={initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},transition:{ease:"easeOut",duration:3}},f=n(3433),b=n(5985),g=n(4554),v=n(3236),y=n(2411),Z=n(5849),j=n(168),k=n(948),S=function(t){var e=t.theme,n=t.error;return"\n\n  width: calc(100% - 24px);\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  padding: 10px 12px;\n  border-radius: 8px;\n  color: ".concat("dark"===e.palette.mode?e.grey[100]:e.grey[700],";\n  background: ").concat("dark"===e.palette.mode?e.grey[800]:e.grey[50],";\n  border: 1px solid ").concat("dark"===e.palette.mode?e.grey[700]:"true"===n?"#e53935":e.grey[300],";\n  \n  box-shadow: 0px 2px 4px ").concat("dark"===e.palette.mode?"rgba(0,0,0, 0.5)":"rgba(0,0,0, 0.05)",";\n\n  &:hover {\n    border: 1px solid ").concat("true"===n?"#d32f2f":e.blue[400],";\n  }\n\n  &:focus {\n  \n    outline: 1px solid ").concat("true"===n?"#c62828":e.blue[400],";\n    border-color: ").concat("true"===n?"#c62828":e.blue[400],";\n    box-shadow: ").concat("false"===n?"0 0 0 3px \n      ".concat(e.palette.mode," === 'dark'")?e.blue[600]:0:"",";\n    background: ").concat("dark"===e.palette.mode?e.grey[700]:e.grey[100],";\n")},w=(0,m.ZP)("input")(r||(r=(0,j.Z)(["\n  ",";\n"])),S),C=(0,m.ZP)(k.HH)(a||(a=(0,j.Z)(["\n  ",";\n"])),S),I=n(9858),N=function(t){var e=/^\+\s\d{2}\(\d{3}\)\s\d{3}-\d{2}-\d{2}$/.test(t);return{telHelperText:e?"":t?"Telephone number doesn't meet the requested format":"Required",telErrorState:!e}},T=n(184),P={box:{ml:"auto",mr:"auto",mb:"50px",width:{sm:"299px",md:"450px"},maxWidth:{xs:"299px",sm:"299px",md:"450px"}},list:{marginBottom:{xs:"30px",md:"40px"}},listItem:{position:"relative",display:"flex",flexDirection:"column",alignItems:"start","&:not(:last-child)":{marginBottom:"35px"}},typography:{mb:.5,fontSize:{xs:"16px",md:"20px"},fontWeight:500},button:{display:"block",marginLeft:"auto",marginRight:"auto"},helperText:{position:"absolute",top:{xs:"75px",md:"80px"},color:"#e53935",fontSize:{xs:"12px",md:"14px"}}},E=(0,m.ZP)(p.Z)((function(t){return{color:t.theme.palette.primary.dark}})),L=function(t){var e=t.contactsList,n=t.setContactsList,r=(0,l.useState)(!1),a=(0,i.Z)(r,2),s=a[0],u=a[1],d=(0,l.useState)(""),m=(0,i.Z)(d,2),h=m[0],j=m[1],k=(0,l.useState)(!1),S=(0,i.Z)(k,2),L=S[0],W=S[1],A=(0,l.useState)(""),z=(0,i.Z)(A,2),H=z[0],B=z[1],D=(0,l.useState)(""),M=(0,i.Z)(D,2),F=M[0],O=M[1];function R(t){var n=function(t){return null===e||void 0===e?void 0:e.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))}(t),r=function(t){return null===e||void 0===e?void 0:e.find((function(e){return e.number===t.number}))}(t);return n?b.Am.warn("".concat(t.name," is already in the list of contacts"),{toastId:"checkNameWarn"}):r&&b.Am.warn("Telephone number ".concat(t.number," is already in the list of contacts"),{toastId:"checkNumberWarn"}),{isNameExisting:n,isNumberExisting:r}}var V=function(){var t=(0,o.Z)(c().mark((function t(r){var a,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,x.uK)(r);case 3:201===(a=t.sent).status&&(b.Am.success("".concat(r.name," has successfully been added to the contacts"),{toastId:"addNewContactSuccess"}),o=[a.data].concat((0,f.Z)(e)).sort((function(t,e){return t.name.localeCompare(e.name)})),n(o)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),b.Am.error("Something has gone wrong. Try again",{toastId:"addNewContactError"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,T.jsxs)(g.Z,{component:"form",sx:P.box,noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault();var e=t.target,n=e.elements.name.value.trim(),r=F,a={name:n,number:r},o=R(a),i=o.isNameExisting,s=o.isNumberExisting,c=(0,I.O)(n),l=c.nameHelperText,d=c.nameErrorState;j(l),u(d);var m=N(r),p=m.telHelperText,x=m.telErrorState;B(p),W(x),i||s||d||x||(V(a),e.reset(),O(""))},children:[(0,T.jsxs)(v.Z,{sx:P.list,children:[(0,T.jsxs)(y.ZP,{disablePadding:!0,sx:P.listItem,children:[(0,T.jsx)(E,{sx:P.typography,children:"Name"}),(0,T.jsx)(w,{type:"text",name:"name",title:"Name may contain only letters, digits, apostrophes, hyphens and spaces",placeholder:"Enter a name",autoComplete:"off",error:"".concat(s)}),s&&(0,T.jsx)(p.Z,{sx:P.helperText,children:h})]}),(0,T.jsxs)(y.ZP,{disablePadding:!0,sx:P.listItem,children:[(0,T.jsx)(E,{sx:P.typography,children:"Telephone number"}),(0,T.jsx)(C,{type:"tel",name:"number",format:"+ ##(###) ###-##-##",title:"+ ##(###) ###-##-##",mask:"_",placeholder:"Enter a telephone number",autoComplete:"off",onValueChange:function(t){O(t.formattedValue)},value:F,error:"".concat(L)}),L&&(0,T.jsx)(p.Z,{sx:P.helperText,children:H})]})]}),(0,T.jsx)(Z.Z,{variant:"contained",type:"submit",sx:P.button,children:"Add the contact"})]})},W=n(1153),A=n(3791),z=n(1413),H=n(4841),B=n(220),D=n(977),M=n(9954),F=n(7247),O=n(1286),R=n(6082),V=n(8060),Y=n(2003),q=n(4843),K=n(3006),$=function(t){var e=t.contactNumber,n=t.errorStateTel,r=t.helperTextTel,a=(0,l.useState)(e),o=(0,i.Z)(a,2),s=o[0],c=o[1],u=(0,l.useState)(!1),d=(0,i.Z)(u,2),m=d[0],p=d[1];return(0,T.jsx)(K.Z,{type:"tel",name:"number",defaultValue:e,variant:"standard",focused:m,fullWidth:!0,title:"+ ##(###) ###-##-##",onChange:function(t){var e=t.currentTarget.value;c(e),p(!0)},onFocus:function(){return p(!0)},onBlur:function(){return p(!1)},autoComplete:"off",error:n,label:"Telephone number",helperText:r,sx:{mb:6,"& .MuiFormHelperText-root.Mui-error":{lineHeight:1}},InputProps:{inputComponent:k.HH,inputProps:{format:"+ ##(###) ###-##-##",mask:"_"}},InputLabelProps:{shrink:!(!s&&!m),sx:{fontSize:{xs:"14px",md:"16px"}}}})},_=function(t){var e=t.contactName,n=t.errorStateName,r=t.helperTextName;return(0,T.jsx)(K.Z,{name:"name",label:"Name",defaultValue:e,variant:"standard",error:n,helperText:r,fullWidth:!0,sx:{mb:5,"& .MuiFormHelperText-root.Mui-error":{lineHeight:1}},InputLabelProps:{sx:{fontSize:{xs:"14px",md:"16px"}}}})},G={box:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"calc(100% - 68px)",sm:"250px",md:"300px"},maxWidth:"50%",bgcolor:"background.paper",border:"2px solid #3d6cb9",borderRadius:10,boxShadow:24,p:4,display:"flex",flexDirection:"column",alignItems:"center"},typography:{mb:1,textAlign:"center",fontSize:{xs:"18px",md:"20px"},fontWeight:600},button:{padding:"6px 40px"}},Q=(0,m.ZP)(p.Z)((function(t){return{color:t.theme.palette.primary.dark}}));function J(t){var e=t.contactId,n=t.contactName,r=t.contactNumber,a=t.open,s=t.setOpen,u=t.contactsList,d=t.setContactsList,m=(0,q.n)().setIsRefreshing,p=(0,l.useState)(!1),h=(0,i.Z)(p,2),f=h[0],v=h[1],y=(0,l.useState)(""),j=(0,i.Z)(y,2),k=j[0],S=j[1],w=(0,l.useState)(!1),C=(0,i.Z)(w,2),P=C[0],E=C[1],L=(0,l.useState)(""),W=(0,i.Z)(L,2),A=W[0],z=W[1];function H(){return H=(0,o.Z)(c().mark((function t(e,n){var r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,(0,x.mP)(e,n);case 4:200===(r=t.sent).status&&(a=u.map((function(t){return t.id===e?r.data:t})),d(a),b.Am.success("You have edited the contact successfully",{toastId:"editContactSuccess"})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),b.Am.error("Something went wrong. Try again, please!",{toastId:"editContactError"});case 12:return t.prev=12,m(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])}))),H.apply(this,arguments)}var B=function(){s(!1),S(""),v(!1),z(""),E(!1)};return(0,T.jsx)(R.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:a,onClose:B,closeAfterTransition:!0,slots:{backdrop:V.Z},slotProps:{backdrop:{timeout:500}},children:(0,T.jsx)(Y.Z,{in:a,children:(0,T.jsxs)(g.Z,{sx:G.box,component:"form",noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault();var n=t.currentTarget,r=n.elements.name.value.trim(),a=n.elements.number.value.trim(),o={name:r,number:a},i=(0,I.O)(r),s=i.nameHelperText,c=i.nameErrorState;S(s),v(c);var l=N(a),u=l.telHelperText,d=l.telErrorState;z(u),E(d),d||c||(!function(t,e){H.apply(this,arguments)}(e,o),B(),n.reset())},children:[(0,T.jsx)(Q,{id:"modal-modal-description",sx:G.typography,children:"Edit the contact"}),(0,T.jsx)(_,{contactName:n,errorStateName:f,helperTextName:k}),(0,T.jsx)($,{contactNumber:r,errorStateTel:P,helperTextTel:A}),(0,T.jsx)(Z.Z,{variant:"contained",type:"submit",sx:G.button,children:"Edit"})]})})})}var U={grid:{display:"flex",flexDirection:"row",justifyContent:"space-between",borderRadius:"4px",transition:"scale(1.2) 0.3s ease-in-out",mb:.2},gridItem:{marginLeft:{xs:-.2,md:-.5},display:"block"},contactNameItem:{justifyContent:"start",pl:{xs:2,md:0},p:{xs:1,md:2}},contactNumberItem:{fontSize:{md:"16px",lg:"18px"},pl:2,height:"100%"},buttonItem:{display:"flex",justifyContent:"center",p:0,height:"100%",background:"transparent"},iconButton:{minHeight:0,minWidth:0,display:"block",transition:"all 300ms ease-in-out","&:hover":{background:"transparent",transform:"scale(1.1)"}},icon:{fontSize:{xs:"22px",lg:"25px"}}},X=(0,m.ZP)(W.ZP)((function(t){var e=t.theme;return{"&:nth-of-type(even)":{background:e.palette.secondary.light},"&:nth-of-type(odd)":{background:e.palette.secondary.dark},color:e.palette.primary.light}})),tt=(0,m.ZP)(H.Z)((function(t){return{color:t.theme.palette.text.secondary,display:"flex",alignItems:"center",gap:"15px",background:"transparent"}})),et=(0,m.ZP)(O.Z)((function(t){return{"&:hover":{fill:t.theme.palette.secondary.main}}})),nt=(0,m.ZP)(F.Z)((function(t){return{"&:hover":{fill:t.theme.grey[500]}}})),rt=function(t){var e=t.contactsList,n=t.contactName,r=t.contactNumber,a=t.contactId,o=t.onDeleteIconClick,s=t.setContactsList,c=(0,l.useState)(window.innerWidth),d=(0,i.Z)(c,2),m=d[0],p=d[1],x=(0,l.useState)(!1),f=(0,i.Z)(x,2),b=f[0],g=f[1];return(0,l.useEffect)((function(){function t(){p(window.innerWidth)}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[m]),(0,T.jsxs)(X,{component:u.E.div,initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:h,container:!0,columnSpacing:.2,sx:U.grid,children:[(0,T.jsx)(W.ZP,{item:!0,xs:8,md:5.5,lg:5,sx:U.gridItem,children:(0,T.jsxs)(tt,{sx:U.contactNameItem,children:[(0,T.jsx)(B.Z,(0,z.Z)({},(0,M.Q)(n))),(0,T.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"start",fontSize:m<768?"14px":m>=768&&m<1440?"16px":"20px"},children:[(0,T.jsx)("span",{style:{fontWeight:600},children:n}),m<768&&(0,T.jsx)("span",{style:{fontStyle:"italic"},children:r})]})]})}),m>=768&&(0,T.jsx)(W.ZP,{item:!0,xs:4,md:4.5,lg:4,children:(0,T.jsxs)(tt,{sx:U.contactNumberItem,children:["\u260e\ufe0f ",r]})}),(0,T.jsx)(W.ZP,{item:!0,xs:2,md:1,lg:1.5,children:(0,T.jsx)(tt,{sx:U.buttonItem,children:(0,T.jsx)(D.Z,{onClick:function(){return g(!0)},"aria-label":"edit",color:"primary",sx:U.iconButton,children:(0,T.jsx)(et,{sx:U.icon})})})}),(0,T.jsx)(W.ZP,{item:!0,xs:2,md:1,lg:1.5,children:(0,T.jsx)(tt,{sx:U.buttonItem,children:(0,T.jsx)(D.Z,{onClick:function(){return o(a)},"aria-label":"delete",sx:U.iconButton,children:(0,T.jsx)(nt,{sx:U.icon})})})}),(0,T.jsx)(J,{open:b,setOpen:g,contactId:a,contactName:n,contactNumber:r,contactsList:e,setContactsList:s})]},a)},at={ml:"auto",mr:"auto",mb:"50px",width:{md:"600px",lg:"900px"},maxWidth:{xs:"600px",lg:"900px"},position:"relative"},ot=function(t){var e=t.filteredContacts,n=t.contactsList,r=t.setContactsList,a=function(){var t=(0,o.Z)(c().mark((function t(n){var a,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,x.GK)(n);case 3:200===(a=t.sent).status&&(o=e.filter((function(t){return t.id!==n})),r(o),localStorage.removeItem("token"),b.Am.success("".concat(a.data.name," has been successfully deleted from the contacts"),{toastId:"onDeleteIconClickSuccess"})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),b.Am.error("Something has gone wrong. Try again",{toastid:"onDeleteIconClickError"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,T.jsx)(W.ZP,{container:!0,spacing:1,sx:at,children:(0,T.jsx)(A.M,{children:null===e||void 0===e?void 0:e.map((function(t){return(0,T.jsx)(rt,{contactsList:n,contactName:t.name,contactNumber:t.number,contactId:t.id,onDeleteIconClick:a,setContactsList:r},t.id)}))})})},it=n(5363),st=n(2861),ct=n(4110),lt=n(7808),ut=n(5403),dt={box:{ml:"auto",mr:"auto",mb:5,width:{sm:"200px",md:"300px"},maxWidth:{xs:"200px",sm:"200px",md:"300px"}},input:{"&.MuiInputBase-root.MuiInput-root.MuiInput-underline:hover:before":{borderBottom:"1px solid #1977D3"}}},mt=function(t){var e=t.handleFilter;return(0,T.jsx)(g.Z,{sx:dt.box,children:(0,T.jsxs)(it.Z,{variant:"standard",sx:{width:"100%"},children:[(0,T.jsx)(st.Z,{htmlFor:"input-with-icon-adornment",children:"Enter a name"}),(0,T.jsx)(ct.Z,{id:"input-with-icon-adornment",fullWidth:!0,onChange:e,sx:dt.input,startAdornment:(0,T.jsx)(lt.Z,{position:"start",children:(0,T.jsx)(ut.Z,{})})})]})})},pt={title:{fontSize:{xs:"32px",md:"36px"},fontWeight:600,textAlign:"center",marginBottom:1},subtitle:{fontSize:{xs:"24px",md:"28px"},fontWeight:600,textAlign:"center",marginBottom:3},text:{fontSize:{xs:"20px",md:"24px"},fontWeight:500,textAlign:"center",marginBottom:1}},xt=(0,m.ZP)(p.Z)((function(t){return{color:t.theme.palette.primary.main}})),ht=(0,m.ZP)(p.Z)((function(t){return{color:t.theme.palette.primary.light}})),ft=(0,m.ZP)(p.Z)((function(t){return{color:t.theme.palette.primary.dark}})),bt=function(){var t=(0,l.useState)([]),e=(0,i.Z)(t,2),n=e[0],r=e[1],a=(0,l.useState)(""),s=(0,i.Z)(a,2),m=s[0],p=s[1],f=(0,l.useState)([]),b=(0,i.Z)(f,2),g=b[0],v=b[1];(0,l.useEffect)((function(){var t=function(){var t=(0,o.Z)(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,x.K2)();case 3:e=t.sent,n=e.data,r(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),(0,l.useEffect)((function(){!function(){var t=n.filter((function(t){return t.name.toLowerCase().includes(m)})).sort((function(t,e){return t.name.localeCompare(e.name)}));v(t)}()}),[n,m]);return(0,T.jsxs)("div",{children:[(0,T.jsx)(xt,{variant:"h1",sx:pt.title,children:"Phonebook"}),(0,T.jsx)(L,{contactsList:n,setContactsList:r}),(0,T.jsx)(ht,{variant:"h2",sx:pt.subtitle,children:"Contacts"},(0,d.x0)()),0===n.length?(0,T.jsx)(ft,{component:u.E.p,initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:h,sx:pt.text,children:"\u26a0\ufe0fYou haven't added any contacts yet"},(0,d.x0)()):(0,T.jsxs)("div",{children:[(0,T.jsx)(mt,{handleFilter:function(t){var e=t.currentTarget.value.trim().toLowerCase();p(e)}}),(0,T.jsx)(ot,{filteredContacts:g,setContactsList:r,contactsList:n})]})]})},gt=n(6924),vt=function(){return(0,T.jsx)(gt.Z,{children:(0,T.jsx)(bt,{})})}},9858:function(t,e,n){n.d(e,{O:function(){return r}});var r=function(t){var e=t.length>=3&&/^[a-zA-Z\u0430-\u044f\u0410-\u044f\u0456\u0406\u0457\u0407\u0454\u04040-9'-\s]+$/.test(t);return{nameHelperText:e?"":t?t.length<3?"Your name is too short":"Name may contain only letters, digits, apostrophes, hyphens and spaces.":"Required",nameErrorState:!e}}}}]);
//# sourceMappingURL=98.644407f4.chunk.js.map